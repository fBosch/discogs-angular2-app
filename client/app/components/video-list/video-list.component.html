<li *ngFor="let video of videos" [ngClass]="{'active': video.id === activeVideoId, 'mdl-list__item mdl-list__item': true}">
    <span class="mdl-list__item-primary-content" (click)="selectVideo(video)">
        <img class="mdl-list__item-avatar" src="{{video.snippet.thumbnails.default.url}}" alt="{{video.snippet.title}}" />
        {{video.snippet.title}}
    </span>
    <span class="mdl-list__item-secondary-content video-duration">
        <span>{{video.contentDetails.duration | formatDuration}}</span>
    </span>

    <button #queueBtn="mdlButton" (click)="playlistMenu.toggle($event, queueBtn)" class="mdl-list__item-secondary-action" mdl-button mdl-js-button mdl-ripple mdl-colored="primary">
        <i class="material-icons">playlist_add</i>
    </button>
    <mdl-menu #playlistMenu="mdlMenu" mdl-menu-position="bottom-right">
        <mdl-menu-item mdl-ripple mdl-menu-item-full-bleed-divider disabled>Add video to playlist:</mdl-menu-item>
        <mdl-menu-item mdl-ripple mdl-menu-item-full-bleed-divider (click)="addPlaylistDialog.show()">New Playlist</mdl-menu-item>
        <mdl-menu-item *ngFor="let playlist of playlists" mdl-ripple (click)="queueVideo(video, playlist.id)">{{playlist.name}}</mdl-menu-item>
    </mdl-menu>

    <mdl-dialog #addPlaylistDialog
        [mdl-dialog-config]="{
            clickOutsideToClose: true,
            styles:{'width': '300px'},
            isModal:true,
            openFrom: addPlaylistButton,
            enterTransitionDuration: 300,
            leaveTransitionDuration: 300}">

        <h3 class="mdl-dialog__title">Add Playlist</h3>

        <div class="mdl-dialog__content">
            <mdl-textfield type="text" label="Playlist Name" #playlistName floating-label autofocus></mdl-textfield>
        </div>

        <div class="mdl-dialog__actions">
            <button mdl-button (click)="addPlaylist(addPlaylistDialog, playlistName.value, video)"
                mdl-button-type="raised" mdl-colored="primary" mdl-ripple>Save</button>
            <button mdl-button (click)="addPlaylistDialog.close()" mdl-ripple>Cancel</button>
        </div>
    </mdl-dialog>
</li>
